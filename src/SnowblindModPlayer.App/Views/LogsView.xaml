<UserControl x:Class="SnowblindModPlayer.Views.LogsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:converters="clr-namespace:SnowblindModPlayer.Converters"
             Background="{DynamicResource Brush.Bg0}"
             x:Name="LogsViewControl"
             IsVisibleChanged="UserControl_IsVisibleChanged">
    <UserControl.Resources>
        <converters:LogLevelBrushConverter x:Key="LogLevelBrushConverter" />
    </UserControl.Resources>
    <Grid Margin="16">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="220" />
            <ColumnDefinition Width="12" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!-- Log file list -->
        <Border Grid.Column="0" Background="{DynamicResource Brush.Panel}"
                BorderBrush="{DynamicResource Brush.Border}" BorderThickness="1"
                Padding="8">
            <ListBox ItemsSource="{Binding LogFiles}"
                     SelectedItem="{Binding SelectedLogFile}"
                     Background="Transparent"
                     BorderThickness="0"
                     Foreground="{DynamicResource Brush.Text}"
                     FontSize="11" />
        </Border>

        <!-- Log entries -->
        <Border Grid.Column="2" Background="{DynamicResource Brush.Panel}"
                BorderBrush="{DynamicResource Brush.Border}" BorderThickness="1"
                Padding="12">
            <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
                <ItemsControl ItemsSource="{Binding LogEntries}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <TextBox Text="{Binding Text, Mode=OneWay}"
                                     Foreground="{Binding Level, Converter={StaticResource LogLevelBrushConverter}}"
                                     FontFamily="Courier New"
                                     FontSize="11"
                                     TextWrapping="Wrap"
                                     Background="Transparent"
                                     BorderThickness="0"
                                     IsReadOnly="True"
                                     IsReadOnlyCaretVisible="True"
                                     Padding="0"
                                     Margin="0" />
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>
        </Border>
    </Grid>
</UserControl>
