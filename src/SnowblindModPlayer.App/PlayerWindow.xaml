<Window x:Class="SnowblindModPlayer.PlayerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vlc="clr-namespace:LibVLCSharp.WPF;assembly=LibVLCSharp.WPF"
        Title="Snowblind-Mod Player" Height="600" Width="900"
        Background="#000000"
        KeyDown="Window_KeyDown"
        MouseDown="Window_MouseDown"
        MouseDoubleClick="Window_MouseDoubleClick"
        MouseWheel="Window_MouseWheel"
        WindowStyle="SingleBorderWindow"
        ResizeMode="CanResize"
        Loaded="Window_Loaded"
        Closing="Window_Closing">
    <Grid>
        <!-- VLC Media Element -->
        <vlc:VideoView x:Name="VideoView" Background="#000000"/>

        <!-- OSD Overlay (Status display, auto-hides after 2s) -->
        <Border x:Name="Osd"
                Background="#00000090"
                VerticalAlignment="Center"
                HorizontalAlignment="Center"
                Padding="30,20"
                CornerRadius="8"
                Visibility="Collapsed">
            <StackPanel Orientation="Vertical" TextBlock.Foreground="White">
                <TextBlock x:Name="OsdLine1" 
                           FontSize="18" FontWeight="Bold"
                           TextAlignment="Center"
                           Margin="0,0,0,15"/>
                
                <Grid Width="300">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <ProgressBar x:Name="Progress"
                                 Grid.Column="0"
                                 Height="6"
                                 Background="#333333"
                                 Foreground="#0078D4"
                                 Value="0"
                                 Minimum="0"
                                 Maximum="100"/>
                    
                    <TextBlock x:Name="TimeText"
                               Grid.Column="1"
                               Text="0:00 / 0:00"
                               FontSize="12"
                               Margin="15,0,0,0"
                               VerticalAlignment="Center"/>
                </Grid>
                
                <TextBlock x:Name="VolText"
                           FontSize="14"
                           TextAlignment="Center"
                           Margin="0,15,0,0"/>
            </StackPanel>
        </Border>

        <!-- Controls Overlay (visible on hover or during playback) -->
        <Border x:Name="ControlsOverlay" 
                Background="#00000080"
                VerticalAlignment="Bottom"
                Opacity="0.8"
                Padding="10">
            <StackPanel Orientation="Vertical">
                <!-- Progress Bar -->
                <ProgressBar x:Name="ProgressBar" 
                             Height="5" 
                             Background="#333333"
                             Foreground="#0078D4"
                             MouseDown="ProgressBar_MouseDown"/>

                <!-- Control Buttons -->
                <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                    <Button x:Name="PlayPauseButton" 
                            Content="?" 
                            Width="40" Height="40"
                            Click="PlayPauseButton_Click"
                            Background="#0078D4"
                            Foreground="White"
                            Margin="0,0,10,0"/>
                    
                    <TextBlock x:Name="TimeLabel" 
                               Text="0:00 / 0:00"
                               Foreground="White"
                               VerticalAlignment="Center"
                               Margin="0,0,10,0"/>

                    <Slider x:Name="VolumeSlider" 
                            Width="100" 
                            Minimum="0" 
                            Maximum="100" 
                            Value="50"
                            VerticalAlignment="Center"
                            Margin="0,0,10,0"/>

                    <TextBlock x:Name="VolumeLabel" 
                               Text="50%"
                               Foreground="White"
                               VerticalAlignment="Center"
                               Margin="0,0,10,0"/>

                    <Button x:Name="FullscreenButton" 
                            Content="?" 
                            Width="40" Height="40"
                            Click="FullscreenButton_Click"
                            Background="#0078D4"
                            Foreground="White"
                            HorizontalAlignment="Right"/>
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- Error Message -->
        <TextBlock x:Name="ErrorMessage" 
                   Text="" 
                   Foreground="Red"
                   FontSize="14"
                   TextWrapping="Wrap"
                   Padding="20"
                   VerticalAlignment="Center"
                   HorizontalAlignment="Center"/>
    </Grid>
</Window>
